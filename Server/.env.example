# ═══════════════════════════════════════════════════════════════
# Communiatec Server — Environment Configuration
# ═══════════════════════════════════════════════════════════════
# Copy this file to .env.development or .env.production
# and fill in the values for your environment.
#
# CRITICAL variables (server will NOT start without these):
#   - JWT_SECRET
#   - DATABASE_URL
#   - ENCRYPTION_KEY
#   - CORS_ALLOWED_ORIGINS (production only)
#   - CLIENT_URL (production only)
#   - SERVER_URL (production only)
# ═══════════════════════════════════════════════════════════════

# ── App ────────────────────────────────────────────────────────
NODE_ENV=development
PORT=4000

# ── Database ───────────────────────────────────────────────────
DATABASE_URL=mongodb://localhost:27017/communiatec

# ── Auth / Security ───────────────────────────────────────────
JWT_SECRET=your_jwt_secret
JWT_KEY=your_jwt_key
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12
COOKIE_MAX_AGE=86400000
ENCRYPTION_KEY=your_encryption_key

# ── URLs ──────────────────────────────────────────────────────
CLIENT_URL=http://localhost:5173
SERVER_URL=http://localhost:4000

# ── CORS ──────────────────────────────────────────────────────
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:3000
ALLOW_VERCEL_PREVIEWS=true

# ── Cloudinary ────────────────────────────────────────────────
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ── OAuth ─────────────────────────────────────────────────────
GITHUB_CLIENT_ID=your_github_id
GITHUB_CLIENT_SECRET=your_github_secret
LINKEDIN_CLIENT_ID=your_linkedin_id
LINKEDIN_CLIENT_SECRET=your_linkedin_secret

# ── External APIs ─────────────────────────────────────────────
JUDGE0_API_KEY=your_judge0_key
GEMINI_API_KEY=your_gemini_key

# ── Redis ─────────────────────────────────────────────────────
# Set to 'disabled' to use in-memory cache, or a redis:// URL
REDIS_URL=disabled

# ── Rate Limiting ─────────────────────────────────────────────
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5
PASSWORD_RESET_RATE_LIMIT_MAX=3

# ── Logging ───────────────────────────────────────────────────
# Levels: error, warn, info, http, debug
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
